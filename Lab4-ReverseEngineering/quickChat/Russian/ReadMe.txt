
                          Вступление
                          ==========

   Когда только мы с друзьями протянули сеть, первой программой для
общения был стандартный чат из поставки WindowsNT(winchat.exe) и нам
его хватало и казалось, что не может быть программы удобнее. Потом нас
стало больше, и простое разделение экрана (split) оказалось не очень
удобным. Hадо было искать достойную замену. Полазив по просторам
интернета, я нашел программу ponyChat, которая устраивала своеобразный
IRC в локальной сети. Постепенно мы все перешли на нее. Однако чем больше
я в ней работал, и чем больше изучал Delphi, тем больше я начал понимать,
что некоторые вещи я бы сделал лучше(а что-то совсем убрал бы:). Тогда я
решил написать свое чудо, в которое я хотел вложить все то, что было бы
удобно для меня и моих друзей. Так началось создание quickChat. После
того, как первая более менее работающая версия 1.2beta была выложена в
интернет и анонсы по фидо-эхам разосланы, мне начали приходить письма
от людей с пожеланиями по улучшению интерфейса. Спасибо всем, кто помогал
мне советами и поддерживал морально :) Я постарался сделать релиз (на
сколько это было в моих силах) таким, каким Вы его хотели видеть.

   Один товарищ сказал: "Если Вам нужно что-то круче - возьмите лучше
ICQ", и я с ним полностью согласен. quickChat(далее qC) - программа для
небольшой домашней сети, с минимумом необходимых и самых нужных
функций. Делать очередной ICQ-подобный клиент-серверный чат я не хотел
и не хочу. Я старался взять лучшее от многих программ, соотнося
размер, ресурсы и простоту использования. Что получилось в
итоге - судить Вам.


                     Описание внешнего вида
                     ======================

   Основное окно qC состоит из 5 полей.


1) Топик
--------

   Топик - это тема разговора, туда можно вешать обьявления,
поздравления и т.п. В принципе это уже старая идея и те, кто бывал
на IRC, хорошо знают назначение топика.

   Топик может сменить любой. Для этого можно либо войти в него мышью,
либо нажать Ctrl+T с клавиатуры. После того, как Вы нажмете Enter,
qC отошлет всем пользователям сообщение о смене топика. Если Вы
вдруг по какой либо причине передумали менять топик, нажмите Esc и
содержимое восстановится. Имя пользователя, сменившего топик,
добавляется в круглых скобках к концу текста автоматически. Если
Вы входите в сеть, где уже есть установленный топик, то это пишется
в основном окне, и текст появляется в поле. Если же до Вас в сети никого не
было, то Ваш qC сам создает топик с Вашим именем и текущим временем.

   Сменить топик можно так же с помощью команд /topic и /add. Первая меняет
топик целиком, вторая добавляет Ваш текст к концу текущего топика.

   Цвета текста и фона, а также звук на смену топика настраиваются в
диалогах "Цвета" и "Звуковые события".


2) Имя пользователя
-------------------

   Ваше имя, под которым Вы известны в сети, Ваш ник. Под этим именем Вас
видят в списке остальные пользователи.

   Может состоять из любых символов кроме:

   \ / : * ? " < > |

   Под этим именем Вас видят в списке остальные пользователи.

   При попытке установки имени, совпадающего с именем уже присутствующего
пользователя, qC предупредит об этом. Если Вы зайдете в сеть с именем, уже
присутствующим в сети, произойдет так называемое "совпадение имен", и Вас
переименуют во что-то, похожее на "Guest_xxxxxx". Такое также происходить и
в случае, если неправильно настроены UDP адреса.

   Длина имени может быть не более 250 символов, т.к. имя является так же
именем файла для ведения лога.

   Нежелательно устанавливать имя больше 15 символов. Почему? Об этом чуть
позже.

   При первом старте qC устанавливает Ваше имя таким же, как и сетевое имя
компьютера, на котором он был запущен. Затем Вы можете менять его как
угодно. Однако помните, что диалог "Пользователь в сети" работает
именно с именем пользователя, по этому если кто-то Вас ждет под одним
именем, а Вы появдяетесь под другим, то, соответственно, извещения о
входе не произойдет. По этому пользуйтесь сменой имени осмотрительно.

   qC всегда запоминает последнее установленное имя и хранит его в
реестре машины.

   Войти в поле имени с клавиатуры можно с помощью комбинации клавиш Ctrl+N.
Редактирование поля имени аналогично редактированию топика. Enter -
установить, Esc - отменить.

   Hад именем есть кнопка, вызывающая "Историю имен", в которой запоминаются
последние имена, которые Вы устанавливали.

   Сменить имя можно также командой /nick.

   Цвета текста и фона, а также звук на смену имени настраиваются в
диалогах "Цвета" и "Звуковые события".


3) Список пользователей
-----------------------

   В этом окне видны все пользователи, которые находятся в сети и у
которых запущен qC.

   Это поле используется для отправки сообщений, удаленного
исполнения, запроса INFO и т.д. В заголовке указано количество
пользователей. Если подвести туда мышь, появится Flat Button, с
помощью которой можно обновить список (Иногда из-за сбоев, зависаний
или просто выключения компьютера без завершения работы в списке
остаются имена уже вышедших). Тоже самое можно сделать с помощью
комбинации клавиш Ctrl+R.

   Перед каждым именем есть маленькая иконка компьютера, по которой
можно определить, в каком режиме находится пользователь. (О режимах -
позже)

   На каждого пользователя вызывается контекстное меню(правой кнопкой
мыши):

Message - Написать сообщение пользователю. Равнозначно двойному клику на
          его имени или Insert с клавиатуры.
Chat    - Hачать приватный разговор с пользователем. Также доступно с помощью
          команды /chat.
Beep    - Послать звуковой вызов (Ctrl+B).
Execute - Послать командную строку для исполнения. Равнозначно Space с
          клавиатуры.
Say     - Поместить выбранный ник в строку ввода.

Request - Запросить системную информацию. Команда /info.
INFO

Add to  - Добавить имя в диалог "Пользователь в сети".
Alert
List

Ignore  - Игнорировать пользователя.
user

Mass    - Написать массовое сообщение(одно для всех). Равнозначно
Message   двойному клику на пустом месте в списке пользователей. Команда /mass.

   Это меню доступно так же при свернутом окне по одиночному клику левой
кнопкой мыши на иконке в трее.

   Цвета текста и фона настраиваются в диалоге "Цвета".


4) Строка редактирования
------------------------

   Здесь Вы пишете текст, который затем будет отправлен в текущее окно.

   Строка редактирования обладает свойством запоминать последние
введенные фразы. Чтобы вызвать последнюю введенную строку, нажмите
"Стрелку ВВЕРХ", чтобы вызвать предыдущую - еще раз и т.д.

   В строке редактирования есть изображение конверта. Если кликнуть на
нем левой кнопкой, это будет равнозначно нажатию Enter - т.е. отправке
строки. По правой кнопке вызывается контекстное меню:

Копировать строку в макрос - Записать набранный текст как клавиатурную
                             макрокоманду. Равнозначно нажатию
                             комбинации Shift+F(1..12)
Вставить строку из макроса - Восстановить текст из макрокоманды в
                             строке редактирования. Равнозначно
                             нажатию F(1..12)

                             Всего макросов 12, каждый висит на
                             соответствующей функциональной клавише.
                             Макросы хранятся в реестре.

Команды                    - Список команд.

Активировать при появлении - Разворачивать окно (если свернуто) если
новой строки?                кто-нибудь что-нибудь сказал в активной
                             закладке.

Активировать при начале    - Разворачивать окно (если свернуто) если
разговора?                   кто-нибудь начал с вами беседу.

Звук на собственную строку - Если отключить, звук будет только на строчки
в чате?                      собеседников.

Посылать пустую строку?    - Если эта опция включена, то по нажатию
                             Enter или клику по конверту при пустой
                             строке она все равно будет отсылаться.

Анимация иконки на новую   - Если установлено, кЦ подает сигнал миганием в
строку?                      трее при появлении новой строки (не системной)
                             в активной закладке

Скроллировать чат?         - Сдвигать ли вверх содержимое окна при приходе
                             новой строки. Удобно отключать, если необходимо
                             почитать, о чем говорили, когда Вас не было :)

Конвертировать раскладку   - Преобразовывать весь (или выделенный) текст
                             в другую раскладку в случае, когда вы забыли
                             ее переключить. Действует и в сообщениях.

Очистить чат               - Очистка текущего окна чата. Равнозначно
                             нажатию Shift+Esc.

Очистить строку            - Очистить строку редактирования.
                             Равнозначно нажатию Esc.

Послать строку             - Отослать набранный текст. Равнозначно
                             нажатию Enter.

   Цвета текста и фона настраиваются в диалоге "Цвета".

Команды
-------

   /me    - Сказать о себе от третьего лица. Можно использовать для
            обозначения своих действий или состояния на текущий момент.

   /nick  - Сменить имя.

   /join  - Зайти на канал.

   /chat  - Hачать приватную беседу.

   /topic - Сменить топик.

   /add   - Добавить к текущему топику.

   /info  - Запросить INFO.

   /mass  - Послать массовое сообщение.

   /here  - Вывести список пользователей на канале и их состояние.


5) Основное окно
----------------

   Окно с закладками, в которых могут быть каналы и приваты. Hа канале
#Main идет основной диалог пользователей и появляются системные сообщения.

   Хочу обьяснить принцип копирования текста, т.к. с ним многие
оказались не знакомы. Те, кто пользовался IRC клиентом mIRC, этот
принцип должны знать. Копирование происходит очень просто: Вы выделяете
текст мышью, и как только отпускаете кнопку, выделенный текст копируется
в системный буфер обмена.

   Цвета текста и фона, шрифт и звук на появление строки в общем чате
настраиваются в диалогах "Цвета", "Шрифт" и "Звуковые события".



                        Главное меню
                        ============

   Вызывается нажатием правой кнопки на текущем окне чата или иконе
трейбара. Содержит в себе основные пункты настройки.

Режим
-----

   Здесь Вы выбираете режим, в котором находитесь.

Нормальный (Доступен)  - Обычный режим, все звуки работают,
                         Вы видны в списке с обычной иконкой
                         компьютера. Сообщения прерывают работу
                         других приложений и переключают Вас в qC.
                         Ранозначно нажатию Ctrl+S.

DND (Не беспокоить!)   - Режим "занятого человека". Звуки слышны
                         только если стоит соотв. галка в диалоге
                         "Звуковые события", Вы видны в списке с
                         иконкой компьютера с красным восклицательным
                         знаком. Сообщения приходят свернутыми, и не
                         прерывают Вашей работы. Пользователю,
                         отославшему Вам сообщение, приходит
                         подтверждение, в котором дополнительно
                         указано, что Вы получили сообщение в DND
                         режиме и причина(автоответ). Равнозначно 
                         нажатию Ctrl+D.

Away (Далеко от чата)  - Режим, когда Вас нет около компьютера.
                         Ставьте его, когда собираетесь куда-то уйти,
                         чтобы не вводить в заблуждение людей,
                         пытающихся с Вами пообщаться. Звуки слышны
                         только если стоит соотв. галка в диалоге
                         "Звуковые события", Вы видны в списке с
                         иконкой компьютера с синей буквой "A".
                         Сообщения приходят не свернутыми, однако не
                         прерывают работу других приложений. Пользователю,
                         отославшему Вам сообщение, приходит
                         подтверждение, в котором дополнительно
                         указано, что Вы получили сообщение в Away
                         режиме и причина(автоответ). Равнозначно
                         нажатию Ctrl+A.

Offline (Не доступен)  - Режим, когда Вы не желаете получать сообщения.
                         Все звуки отключены, Вы видны в списке с
                         иконкой компьютера с коричневым крестиком.
                         Сообщения не приходят. Пользователю,
                         отославшему сообщение, приходит информация
                         о том, что Вы недоступны и причина(автоответ).
                         Равнозначно нажатию Ctrl+F.


АвтоОтвет              - Включить или выключить автоответчик. Настроить
                         сообщение для ответа можно, переключившись в
                         соответствующий режим.

Hастройки...
------------

   См. ниже.

Каналы...
---------

   Вызывает диалог выбора каналов из Вашего списка. Равнозначно
нажатию Alt+Space.

Показать/Скрыть чат
----------

   Просто сворачивает чат в трей. При пустой строке ввода равнозначно
нажатию Esc.

About...
-------

   О программе. Там же информация о регистрации, ссылка на домашнюю
страничку и e-mail мне.

Выйти
-----

   Выйти из qC (Выгрузить из памяти).



                           Настройки
                           =========

"Пользователь в сети"...
------------------------

   Этот диалог позволяет настроить определенные события (events)
которые будут происходить при входе в сеть определенного пользователя.

Нижний ряд кнопок:

Добавить     - Добавить нового пользователя в список. Рекомендуется
               делать добавление пунктом ALERT в контекстном меню
               списка пользователей, во избежание расхождений в
               написании имени.

Удалить      - Удалить выбранного в списке пользователя.

Сохранить    - Сохранить настройки для ОДНОГО ВЫБРАННОГО в списке
               пользователя.

Закрыть      - Закрыть диалог нафиг.

   В остальном я думаю все ясно из названий и подсказок в самом
диалоге, скажу только несколько слов про АвтоСообщение. Оно отсылается
один раз! После того, как оно отошлется, галка АвтоСообщения снимается с
пользователя.

   "Пользователь в сети" будет срабатывать не только при входе в
сеть, но и при переименовании в нужный ник.


Звуковые события...
-------------------

   Тут можно назначить любой звук на многие события, как то:

Приход сообщения
Попытка исполнения
Приход массового сообщения
Смена топика
Смена имени
Строка "/me"
Обычная строка в чате
Вход в сеть
Выход из сети
Вход в канал
Выход из канала
Вход в приват
Выход из привата
Звуковой вызов

   Там же можно определить, в каких режимах играть звуки, а в каких -
нет.

   Галочки справа определяют, надо ли пищать через стандартный PC speaker :)

Фильтры сообщений
-----------------

   Диалог фильтрации сообщений по отправителю и содержимому.


Обновление списка
-----------------

   Не рекомендуется ставить здесь время меньше 60 секунд, особенно в
больших сетях, т.к. это приведет к повышению и засорению трафика.


Удаленные команды
-----------------

Разрешить исполнение?     - Если эта опция включена, то любой
                            пользователь может исполнить на Вашем
                            компьютере любую командную строку. Это
                            будет удобно, к примеру, для системных
                            администраторов - запустить у
                            пользователя какую-нибудь программу,
                            или клиента по управлению рабочим столом
                            и т.д. Однако будьте готовы и к строчкам
                            вроде "rundll user,exitwindows", ведь
                            найдется же какой нибудь шутник :-)

Пароль...                 - Пароль для доступа к исполнению.

Отсылать список           - Если эта опция включена, Ваш qC будет
каналов в INFO?             отсылать список каналов, на которых
                            Вы в данный момент находитесь любому
                            пользователю, запросившему INFO.


Настройки окна
--------------

Шрифт...                  - Определить шрифт для всех окон чата.

Цвета...                  - Диалог настройки цветов.

Сохранить позицию         - Запомнить положение, размер окна и
                            положения всех сплиттеров.

Сохранять при выходе?     - Если опция включена, qC будет сохранять
                            позицию при закрытии и при следующем
                            старте будет появляться там, где он был в
                            последний раз.


Подключение...
--------------

   Тут выбирается протокол работы qC: IPX или UDP(TCP/IP).

   Внимание! Если установлен протокол IPX, то qC будет видеть все машины
только в пределах своего IPX-сегмента.

UDP...
------

   В этом диалоге необходимо указать броадкаст адрес, по которому Ваш qC
будет рассылать пакеты. К примеру, в нашей сети все имеют адреса,
начинающиеся с 90.0.0.X, маска подсети 255.255.255.0. Соответственно,
броадкаст адрес у нас будет 90.0.0.255, последняя цифра равносильна "*",
тоесть получатели - все машины с адресами, начинающимися с 90.0.0...

   Вы можете задать несколько таких масок, или задать непосредственно
IP-адреса отдельных машин.

   Думаю, я понятно обьяснил, если Вы в чем-то не разобрались - тогда
обратитесь к знающим людям, Вам должны помочь.

   Если Вы работаете в интернете, то Вам так же необходимо правильно настроить
маску адреса, иначе пакеты будут уходить в интернет.

   Порт желательно оставлять таким, какой есть(8167), однако если Вы
хотите разделиться на группы(в сети), которые не должны друг друга
видеть, то просто настройтесь на разные порты.

   После каких либо изменений необходимо перезапустить qC.

   Теперь немного об ограничениях. Размер пакета UDP составляет 1024 байта,
соответственно все, что посылается, не должно превышать этот размер.
Я ограничил все поля ввода текста на размер 1000 символов. Поля:
Топик, Строка ввода, Сообщение, Массовое сообщение, АвтоСообщение,
Командная строка. 

   Однако при посылке, к примеру, строки для исполнения, в пакете также
указвается от кого он и кому адресован. Если имена будут очень длинные и
отсылаемый текст будет около 1000, то в сумме они привысят размер 1024 байта
и есть вероятность, что пакет просто не будет отослан. По этому мой Вам совет -
не пользуйтесь именами больше 15-20 символов. Hичего страшного не произойдет,
но неудобства случиться могут.


Префикс времени
---------------

   Любая строка может быть предварена временем ее появления. Тут можно
включить время на системные сообщения(по умолчанию) и пользовательские.


Ведение лога
------------

   Тут можно включить ведение протокола (лога) в файлы каналов, приватов и
сообщений. При активном общении могут незаметно расти. Следите! :)


Помощь
------

Использовать посказки?    - Здесь можно включить или выключить
                            появляющиеся подсказки(hints). Поначалу
                            помогает разобраться в функциях, но
                            постепенно надоедает.


Язык
----

   Язык интерфейса, диалогов, подсказок и Советов при запуске. Если Вы
поменяли язык - откройте заново все открытые диалоги, чтобы изменения
вступили в силу.


Пол пользователя
----------------

   Виден только в русском интерфейсе, так же, как и конвертация текста.
Определяет синтаксис системных сообщений "получил/получила сообщение",
"вошел/вошла в сеть" и т.д.


                          Заключение
                          ==========

   Буду рад выслушать Ваши отзывы и предложения по улучшению моей программы.

   Выражаю большую и искреннюю признательность всем, кто мне писал письма и
выступал в роли бета-тестеров. Я учитывал все Ваши пожелания, я думаю, Вы
оцените это, увидев версию 1.5.

   Special thanks:

Aleksey V. Ivanov        - создание веб страницы quickChat и помощь в
                           разработке дизайна программы.

   Спасибо за использование программы!

                                                              С уважением,
                                                              Сергей Барков
